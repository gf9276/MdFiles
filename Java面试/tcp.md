# 键入网址到显示，发生了什么

1. 根据域名获取IP，先查浏览器缓存，再查本地hosts文件，再查本地DNS服务器，DNS服务器会查缓存，没有的话先问根域名，再问顶级域名，再问权威DNS，得到IP后返回给客户端，开始建立连接
2. 得到ip后，把http的传输工作提交给协议栈，首先进行TCP三次握手，建立TCP连接，然后生成TCP报文，然后IP协议将TCP报文封装成网络包，加上MAC头部后传输给网卡。
3. 服务端拿到网络包之后，开始拆包，解析出客户端发送来的数据，然后将要返回的数据原路返回。
4. 客户端拿到服务端传来的数据后，浏览器渲染页面。

# 重传、滑动窗口、流量控制、拥塞控制

## RTT

一个RTT即数据包来回的时间

## 超时重传

超时重传时间 RTO 的值应该略大于报文往返 RTT 的值

## 快速重传

连续收到三次一样的ACK后返回

## SACK

TCP头部里加一个SACK，它可以将已经收到的数据的信息发送给发送方。

## Duplicate SACK

使用SACK告诉发送方数据接收到了，都用SACK和SACK有啥区别啊

## 流量控制

为了防止发送端发的信息超出接收端的处理能力

## 拥塞控制

网络堵塞会出现重传机制，超时/快速

如果接收端处理能力还有冗余，但是网络堵塞的比较差了。

当网络出现拥塞的时候，降低发送的频率，避免堵塞网络。当网络空闲的时候，提高发送的频率